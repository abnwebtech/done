(function(n,t){function f(n,r){i.addType(n,function(f,e,o){var a,s,v,l,h=e,c=+new Date;if(!f){h={},l=[],v=0;try{for(f=r.length;f=r.key(v++);)u.test(f)&&(s=JSON.parse(r.getItem(f)),s.expires&&s.expires<=c?l.push(f):h[f.replace(u,"")]=s.data);while(f=l.pop())r.removeItem(f)}catch(y){}return h}if(f="__amplify__"+f,e===t)if(a=r.getItem(f),s=a?JSON.parse(a):{expires:-1},s.expires&&s.expires<=c)r.removeItem(f);else return s.data;else if(e===null)r.removeItem(f);else{s=JSON.stringify({data:e,expires:o.expires?c+o.expires:null});try{r.setItem(f,s)}catch(y){i[n]();try{r.setItem(f,s)}catch(y){throw i.error();}}}return h})}var i=n.store=function(n,t,r,u){var u=i.type;return r&&r.type&&r.type in i.types&&(u=r.type),i.types[u](n,t,r||{})},u,r;i.types={},i.type=null,i.addType=function(n,t){i.type||(i.type=n),i.types[n]=t,i[n]=function(t,r,u){return u=u||{},u.type=n,i(t,r,u)}},i.error=function(){return"amplify.store quota exceeded"},u=/^__amplify__/;for(r in{localStorage:1,sessionStorage:1})try{window[r].getItem&&f(r,window[r])}catch(e){}if(window.globalStorage)try{f("globalStorage",window.globalStorage[window.location.hostname]),i.type==="sessionStorage"&&(i.type="globalStorage")}catch(e){}(function(){if(!i.types.localStorage){var n=document.createElement("div"),r="amplify";n.style.display="none",document.getElementsByTagName("head")[0].appendChild(n);try{n.addBehavior("#default#userdata"),n.load(r)}catch(u){n.parentNode.removeChild(n);return}i.addType("userData",function(u,f,e){n.load(r);var s,o,h,v,a,c=f,l=+new Date;if(!u){for(c={},a=[],v=0;s=n.XMLDocument.documentElement.attributes[v++];)o=JSON.parse(s.value),o.expires&&o.expires<=l?a.push(s.name):c[s.name]=o.data;while(u=a.pop())n.removeAttribute(u);return n.save(r),c}if(u=u.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-"),f===t)if(s=n.getAttribute(u),o=s?JSON.parse(s):{expires:-1},o.expires&&o.expires<=l)n.removeAttribute(u);else return o.data;else f===null?n.removeAttribute(u):(h=n.getAttribute(u),o=JSON.stringify({data:f,expires:e.expires?l+e.expires:null}),n.setAttribute(u,o));try{n.save(r)}catch(y){h===null?n.removeAttribute(u):n.setAttribute(u,h),i.userData();try{n.setAttribute(u,o),n.save(r)}catch(y){h===null?n.removeAttribute(u):n.setAttribute(u,h);throw i.error();}}return c})}})(),function(){function u(n){return n===t?t:JSON.parse(JSON.stringify(n))}var r={},n={};i.addType("memory",function(i,f,e){return i?f===t?u(r[i]):(n[i]&&(clearTimeout(n[i]),delete n[i]),f===null)?(delete r[i],null):(r[i]=f,e.expires&&(n[i]=setTimeout(function(){delete r[i],delete n[i]},e.expires)),f):u(r)})}()})(this.amplify=this.amplify||{});